/* app.css â€” v15 */
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#08120e;--text:#fff;--muted:#a8c4b7;--accent:#1DB954;--accent2:#1ed760;--glass1:rgba(255,255,255,.06);--glass2:rgba(255,255,255,.09);--border:rgba(255,255,255,.16);--radius:16px;--blur:14px;--font:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;--icon:#eafff1}
html{font-size:16px}
body{min-height:100vh;background:radial-gradient(1400px 900px at 50% -180px,#0f2119 0%,#08120e 55%,#050807 100%);color:var(--text);font-family:var(--font);overflow:hidden;position:relative}
.lava-bg{position:fixed;inset:0;z-index:-5;pointer-events:none}
.lava-bg .back{position:absolute;inset:0;z-index:1}
.lava-bg .glow{position:absolute;left:0;right:0;bottom:0;z-index:2;width:100%;height:18vh;background:radial-gradient(110% 90% at 50% 36%,rgba(70,235,150,.34) 0 16%,rgba(29,185,84,.2) 17% 44%,rgba(29,185,84,0) 70%),linear-gradient(to top,rgba(20,140,75,.2),rgba(20,140,75,0) 44%);filter:blur(9px) saturate(110%);opacity:.9;overflow:hidden}
.lava-bg .glow > .wave{position:absolute;left:0;top:-5vh;height:66%;width:300vw;background:radial-gradient(120% 160% at 8% 0,rgba(72,235,150,.22) 0 40%,rgba(72,235,150,0) 60%),radial-gradient(120% 160% at 38% 0,rgba(72,235,150,.22) 0 40%,rgba(72,235,150,0) 60%),radial-gradient(120% 160% at 68% 0,rgba(72,235,150,.22) 0 40%,rgba(72,235,150,0) 60%),radial-gradient(120% 160% at 98% 0,rgba(72,235,150,.22) 0 40%,rgba(72,235,150,0) 60%);filter:blur(9px);opacity:.66;animation:waveSlide 8s linear infinite}
@keyframes waveSlide{from{transform:translateX(0)}to{transform:translateX(-100vw)}}
.lava-bg .gooey{position:absolute;inset:0;filter:contrast(1.05) saturate(1.05)}
.blob{position:absolute;bottom:-6vh;left:var(--x,50vw);width:clamp(108px,10.5vw,190px);height:clamp(108px,10.5vw,190px);background:radial-gradient(34% 34% at 35% 30%,rgba(150,255,190,.65) 0 34%,rgba(96,240,160,.58) 35% 60%,rgba(29,185,84,.52) 61% 70%,rgba(29,185,84,0) 74%);border-radius:50%;transform:translateY(0) scale(var(--s,1)) translateZ(0);filter:blur(var(--b,10px));opacity:0;will-change:transform,opacity,left,filter,border-radius;animation:rise var(--t,28s) linear infinite,fade var(--t,28s) cubic-bezier(.4,0,.2,1) infinite,sway var(--sw,10s) ease-in-out infinite,morph 8s ease-in-out infinite alternate}
@keyframes rise{0%{transform:translateY(0) scale(var(--s,1))}100%{transform:translateY(-106vh) scale(var(--s,1))}}
@keyframes fade{0%{opacity:0}12%{opacity:.48}78%{opacity:.48}100%{opacity:0}}
@keyframes sway{0%{left:calc(var(--x,50vw) - var(--amp,1.1vw))}50%{left:calc(var(--x,50vw) + var(--amp,1.1vw))}100%{left:calc(var(--x,50vw) - var(--amp,1.1vw))}}
@keyframes morph{0%{border-radius:46% 54% 58% 42%/44% 50% 50% 56%}50%{border-radius:55% 45% 40% 60%/50% 45% 55% 50%}100%{border-radius:50% 50% 55% 45%/55% 55% 45% 45%}}
@media (prefers-reduced-motion:reduce){.blob,.lava-bg .glow,.lava-bg .glow>.wave{animation:none!important}}
.container{height:100vh;display:flex;flex-direction:column;padding:20px 40px 20px 80px;max-width:1800px;margin:0 auto;position:relative;transition:padding-left .35s cubic-bezier(.2,.7,.2,1)}
.dock{position:fixed;left:20px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:10px;z-index:100}
.dock-item{display:flex;align-items:center;justify-content:center;width:40px;height:40px;padding:0;gap:0;border-radius:12px;background:rgba(255,255,255,.08);border:1px solid var(--border);color:#fff;cursor:pointer;overflow:hidden;transition:all .25s ease-out}
.dock-item.active{outline:2px solid var(--accent);outline-offset:2px}
.dock-item span{font-size:.85rem;font-weight:700;white-space:nowrap;opacity:0;width:0;transition:all .25s ease-out}
.dock-item:hover{width:auto;padding:0 16px 0 12px;gap:10px;transform:translateY(-2px);box-shadow:0 10px 24px rgba(0,0,0,.35)}
.dock-item:hover span{opacity:1;width:auto}
.dock:hover ~ .container{padding-left:210px}
header{text-align:center;padding:20px 0;flex-shrink:0}
.content{flex:1;display:flex;flex-direction:column;align-items:center;min-height:0}
.animated-title{font-size:clamp(2.6rem,4vw,4rem);font-weight:900;letter-spacing:.18em;margin-bottom:8px;text-shadow:0 10px 32px rgba(0,0,0,.65)}
.letter{display:inline-block;animation:sw 2s ease-in-out infinite}
.letter:nth-child(2){animation-delay:.2s}.letter:nth-child(3){animation-delay:.4s}
@keyframes sw{0%,100%{transform:translateY(0) scaleY(1)}25%{transform:translateY(-10px) scaleY(1.2)}50%{transform:translateY(5px) scaleY(.8)}75%{transform:translateY(-5px) scaleY(1.1)}}
.subtitle{opacity:.88;font-style:italic;letter-spacing:.04em}
.main-buttons{display:flex;gap:clamp(24px,6vw,60px);margin:24px 0 20px;flex-shrink:0}
.category-btn{width:clamp(110px,18vw,160px);height:clamp(110px,18vw,160px);border-radius:20px;background:linear-gradient(180deg,var(--glass2),rgba(255,255,255,.04));border:1px solid var(--border);box-shadow:0 8px 24px rgba(0,0,0,.35),inset 0 1px 0 rgba(255,255,255,.12);-webkit-backdrop-filter:blur(var(--blur));backdrop-filter:blur(var(--blur));color:var(--icon);display:flex;flex-direction:column;align-items:center;justify-content:center;transition:transform .28s cubic-bezier(.2,.7,.2,1),box-shadow .28s,border-color .28s;position:relative}
.category-btn:hover{transform:translateY(-4px) scale(1.02);border-color:rgba(29,185,84,.45);box-shadow:0 18px 40px rgba(0,0,0,.5),0 0 0 6px rgba(29,185,84,.08)}
.category-btn svg{width:clamp(56px,9vw,76px);height:clamp(56px,9vw,76px);fill:currentColor;filter:drop-shadow(0 6px 18px rgba(0,0,0,.35));transition:transform .28s}
.category-btn:hover svg{transform:translateY(-6px) scale(.98)}
.category-label{position:absolute;bottom:14px;color:currentColor;font-weight:700;letter-spacing:.02em;font-size:clamp(.9rem,.7rem + .4vw,1.1rem);text-shadow:0 2px 6px rgba(0,0,0,.55);opacity:0;transform:translateY(8px);transition:.28s}
.category-btn:hover .category-label{opacity:1;transform:translateY(0)}
.view{display:none;width:100%;flex-grow:1;min-height:0}.view.active{display:flex;flex-direction:column}
.favorites-section, .recommendations-section{width:100%;background:linear-gradient(180deg,var(--glass1),rgba(255,255,255,.03));border:1px solid var(--border);border-radius:var(--radius);-webkit-backdrop-filter:blur(var(--blur));backdrop-filter:blur(var(--blur));box-shadow:0 12px 40px rgba(0,0,0,.45);padding:22px 26px}
.recommendations-section {flex-grow: 1;display: flex;flex-direction: column;overflow: hidden;}
.recommendations-scroller {flex-grow: 1;overflow-y: auto;padding-right: 10px;margin-right: -10px;}

/* === CHANGE 1: Spacing Added === */
/* This adds the 20px space you requested between the recommendations and favorites sections. */
.favorites-section{
  display:none;
  margin-bottom:24px;
  flex-shrink:0;
  margin-top: 20px;
}

.favorites-section h2, .recommendations-section h2{margin:0 0 14px;font-size:clamp(1.05rem,.9rem + .6vw,1.4rem);flex-shrink:0}
.recs-group{margin-top:18px;flex-shrink:0}
.recs-header{display:flex;align-items:center;gap:10px;margin:6px 0 8px}
.recs-header h3{font-size:1.05rem;font-weight:800;letter-spacing:.01em}
.recs-count{background:rgba(255,255,255,.08);border:1px solid var(--border);border-radius:999px;padding:2px 10px;font-size:.85rem;opacity:.85}
.recs-empty{font-size:.92rem;opacity:.6;padding:6px 2px;display:none}
.favorites-grid, .recommendations-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:14px}
.empty-message{text-align:center;opacity:.65;padding:36px;font-style:italic}
.daymix-form{display:flex;gap:10px;margin:10px 0 20px;flex-shrink:0}
.daymix-form input{flex-grow:1}
.recommendations-scroller::-webkit-scrollbar{width:8px}
.recommendations-scroller::-webkit-scrollbar-track{background:rgba(255,255,255,.05);border-radius:10px}
.recommendations-scroller::-webkit-scrollbar-thumb{background:rgba(29,185,84,.4);border-radius:10px}
.recommendations-scroller::-webkit-scrollbar-thumb:hover{background:rgba(29,185,84,.6)}
.favorite-item, .recommendation-card{background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.04));border:1px solid rgba(255,255,255,.15);border-radius:12px;padding:14px;box-shadow:0 10px 24px rgba(0,0,0,.35),inset 0 1px 0 rgba(255,255,255,.12);transition:transform .25s,box-shadow .3s,border-color .3s}
.recommendation-card{cursor:pointer;position:relative}
.favorite-item:hover, .recommendation-card:hover{transform:translateY(-3px);box-shadow:0 16px 36px rgba(0,0,0,.45);border-color:rgba(29,185,84,.38)}
.favorite-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:6px}
.favorite-item h3, .recommendation-card h3{font-size:1em;font-weight:700;letter-spacing:.02em}
.favorite-item p, .favorite-artist, .recommendation-card p{font-size:.85em;opacity:.82;margin-top:4px}
.recommendation-reason{font-size:.82em;color:var(--accent);opacity:.95}
.remove-btn{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);border-radius:50%;width:24px;height:24px;display:flex;align-items:center;justify-content:center;color:#fff;opacity:.7;transition:.25s}
.remove-btn:hover{background:rgba(220,53,69,.85);border-color:#dc3545;opacity:1;transform:scale(1.08)}
.dismiss-btn{position:absolute;top:6px;right:6px;width:26px;height:26px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);color:#fff;opacity:.75;cursor:pointer;transition:.2s}
.dismiss-btn:hover{background:rgba(220,53,69,.85);border-color:#dc3545;opacity:1;transform:scale(1.06)}
.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.9);z-index:1000;align-items:center;justify-content:center}
.modal.active{display:flex}
.modal-content{width:90%;max-width:400px;background:rgba(26,26,26,.95);padding:26px;border-radius:14px;border:1px solid rgba(255,255,255,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:ms .28s ease-out}
@keyframes ms{from{transform:translateY(-40px);opacity:0}to{transform:translateY(0);opacity:1}}
.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
.modal-header h2{color:var(--accent)}
.close-btn{background:none;border:0;color:#fff;font-size:26px;cursor:pointer;transition:.2s}
.close-btn:hover{color:var(--accent)}
.form-group{margin-bottom:14px}
label{display:block;margin-bottom:6px;font-weight:600}
input{width:100%;padding:10px;background:rgba(255,255,255,.05);border:2px solid rgba(255,255,255,.2);border-radius:8px;color:#fff;font-size:15px;transition:.2s}
input:focus{outline:0;border-color:var(--accent);background:rgba(255,255,255,.08)}
.submit-btn{width:100%;padding:12px;border:0;border-radius:8px;color:#fff;font-weight:700;background:linear-gradient(180deg,var(--accent),var(--accent2));box-shadow:0 10px 24px rgba(29,185,84,.35);cursor:pointer;transition:.25s}
.submit-btn:hover{transform:translateY(-2px);box-shadow:0 14px 32px rgba(29,185,84,.45)}
.modal .modal-content.confirm{max-width:420px}.modal .modal-content.confirm p{margin:8px 0 14px}.confirm-actions{display:flex;gap:10px}
.submit-btn.danger{background:#dc3545;box-shadow:0 10px 24px rgba(220,53,69,.25)}.submit-btn.danger:hover{background:#e34b5b;box-shadow:0 14px 32px rgba(220,53,69,.35)}
.submit-btn.ghost{background:transparent;border:2px solid rgba(255,255,255,.25);color:#fff;box-shadow:none}.submit-btn.ghost:hover{background:rgba(255,255,255,.06)}
.autocomplete-wrapper{position:relative}
.suggestions-box{display:none;position:absolute;top:100%;left:0;right:0;background:#1a1a1a;border:1px solid var(--border);border-top:none;border-radius:0 0 10px 10px;z-index:10;max-height:200px;overflow-y:auto}
.suggestion-item{padding:10px 12px;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.05)}.suggestion-item:last-child{border-bottom:none}
.suggestion-item:hover{background:var(--accent);color:#fff}
.suggestion-item .artist{opacity:.7;font-size:.85em;margin-left:8px}
.rating-stars{position:absolute;bottom:8px;right:8px;display:flex}
.rating-stars button{background:none;border:none;color:rgba(255,255,255,.3);cursor:pointer;font-size:18px;padding:2px;transition:color .2s,transform .2s}
.rating-stars:hover button{color:rgba(255,255,255,.5)}
.rating-stars button:hover ~ button{color:rgba(255,255,255,.3)}
.rating-stars button.rated,.rating-stars button:hover{color:#f7d43b;transform:scale(1.1)}
.auth-container{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px}
.auth-content{width:100%;max-width:400px;background:linear-gradient(180deg,var(--glass1),rgba(255,255,255,.03));border:1px solid var(--border);border-radius:14px;padding:26px;-webkit-backdrop-filter:blur(var(--blur));backdrop-filter:blur(var(--blur));box-shadow:0 12px 40px rgba(0,0,0,.45)}
.tab-buttons{display:flex;gap:8px;margin-bottom:16px}
.tab-btn{flex:1;padding:10px;background:rgba(255,255,255,.1);border:2px solid rgba(255,255,255,.2);border-radius:8px;color:#fff;font-weight:700;cursor:pointer;transition:.2s}
.tab-btn:hover{background:rgba(255,255,255,.15)}
.tab-btn.active{background:var(--accent);border-color:var(--accent)}
.auth-form{display:none}.auth-form.active{display:block}
.error-message{color:#ff6b6b;font-size:.85em;margin-top:4px;min-height:18px}
.user-info-wrapper{position:fixed;bottom:20px;left:20px;z-index:101}
.spotify-btn{display:inline-flex;align-items:center;gap:10px;padding:10px 20px;background-color:#1DB954;color:#fff;border-radius:500px;text-decoration:none;font-weight:700;transition:background-color .2s;border:none;cursor:pointer}
.spotify-btn:hover{background-color:#1ed760}
.user-info{display:none;align-items:center;gap:10px}
.user-avatar{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:700}

/* === NOTE: Logout Button Animation (Already Implemented) === */
/* This is the animation you requested. It starts as a small circle. */
.logout-btn{background:rgba(255,255,255,.1);border:2px solid rgba(255,255,255,.2);border-radius:24px;padding:10px;color:#fff;gap:8px;display:flex;align-items:center;overflow:hidden;width:44px;transition:.25s;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}
/* The "Sair" text is initially hidden (0 opacity, 0 width). */
.logout-btn span{opacity:0;width:0;white-space:nowrap;transition:.25s;font-weight:700}
/* On hover, the button expands its width and padding. */
.logout-btn:hover{width:auto;padding:10px 16px;background:rgba(220,53,69,.2);border-color:rgba(220,53,69,.5)}
/* On hover, the "Sair" text becomes visible, making the button expand smoothly. */
.logout-btn:hover span{opacity:1;width:auto}

.loading-overlay{position:fixed;inset:0;background:rgba(0,0,0,.8);display:none;align-items:center;justify-content:center;z-index:2000}
.loading-overlay.active{display:flex}
.loading-spinner{width:48px;height:48px;border:3px solid rgba(255,255,255,.1);border-top-color:var(--accent);border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.notification{position:fixed;top:24px;right:24px;padding:14px 20px;border-radius:10px;font-weight:700;transform:translateX(320px);opacity:0;transition:.25s;z-index:2100;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid var(--border)}
.notification.show{transform:none;opacity:1}
.notification.success{background:rgba(29,185,84,.9);color:#fff}.notification.error{background:rgba(220,53,69,.9);color:#fff}
.version-tag{position:fixed;bottom:16px;right:16px;background:rgba(0,0,0,.5);padding:4px 12px;border-radius:16px;font-size:.85em;opacity:.75;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}
@media (max-width:768px){.recommendations-grid{grid-template-columns:1fr}.dock{left:12px}.container{padding-left:70px;padding-right:20px}.dock:hover ~ .container{padding-left:70px}}
@media (max-width:480px){.main-buttons{flex-direction:column;gap:18px}.category-btn{width:100px;height:100px}}

/* === Hotfix: CorreÃ§Ã£o do Avatar do Spotify === */
.user-avatar {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-color: transparent;
  color: transparent;
}